<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.media.MediaView?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.SVGPath?>

<StackPane fx:id="root" prefHeight="700.0" prefWidth="1050.0" stylesheets="@aura-dashboard.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="hivens.ui.DashboardController">

    <MediaView fx:id="bgVideoView" preserveRatio="false" />

    <StackPane style="-fx-background-color: rgba(0,0,0,0.6);" />

    <BorderPane style="-fx-padding: 30;">

        <left>
            <VBox alignment="TOP_CENTER" minWidth="240.0" spacing="10.0" styleClass="glass-pane">
                <padding>
                    <Insets bottom="20" left="15" right="15" top="30" />
                </padding>

                <VBox alignment="CENTER" spacing="5">
                    <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #00c6ff;" text="AURA">
                        <effect>
                            <DropShadow color="rgba(0,198,255,0.4)" radius="15" />
                        </effect>
                    </Label>
                    <Label style="-fx-font-size: 10px; -fx-text-fill: #aaa; -fx-letter-spacing: 2;" text="LAUNCHER" />
                </VBox>

                <Separator opacity="0.1" prefHeight="20" />

                <VBox alignment="CENTER_LEFT" spacing="8">
                    <Button fx:id="homeBtn" alignment="BASELINE_LEFT" graphicTextGap="15" maxWidth="Infinity" onAction="#showHome" styleClass="sidebar-btn" text="ГЛАВНАЯ" />
                    <Button fx:id="profileBtn" alignment="BASELINE_LEFT" graphicTextGap="15" maxWidth="Infinity" onAction="#showProfile" styleClass="sidebar-btn" text="ПРОФИЛЬ" />
                    <Button fx:id="settingsBtn" alignment="BASELINE_LEFT" graphicTextGap="15" maxWidth="Infinity" onAction="#showSettings" styleClass="sidebar-btn" text="НАСТРОЙКИ" />
                </VBox>

                <Region VBox.vgrow="ALWAYS" />

                <VBox spacing="15">

                    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: rgba(0,0,0,0.2); -fx-background-radius: 10; -fx-padding: 8;">
                        <StackPane>
                            <ImageView fx:id="avatarView" fitHeight="32" fitWidth="32" pickOnBounds="true" preserveRatio="true" />

                            <Circle fill="#00ff00" radius="3" stroke="black" strokeWidth="1" StackPane.alignment="BOTTOM_RIGHT" />
                        </StackPane>

                        <VBox alignment="CENTER_LEFT">
                            <Label fx:id="usernameLabel" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 12px;" text="Steve" />
                            <Label style="-fx-font-size: 10px; -fx-text-fill: #00ff00;" text="Online" />
                        </VBox>
                    </HBox>

                    <Button maxWidth="Infinity" onAction="#onLogout" styleClass="sidebar-btn-danger" text="ВЫЙТИ ИЗ АККАУНТА">
                        <graphic>
                            <SVGPath content="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="#ff5555" scaleX="0.8" scaleY="0.8" />
                        </graphic>
                    </Button>
                </VBox>
            </VBox>
        </left>

        <center>
            <StackPane fx:id="contentArea" style="-fx-padding: 0 0 0 20;" />
        </center>

        <bottom>
            <VBox alignment="CENTER_RIGHT" spacing="10">
                <padding><Insets top="20" /></padding>

                <Label fx:id="statusLabel" style="-fx-text-fill: #888;" text="Готов к запуску" />

                <StackPane alignment="CENTER_RIGHT">
                    <ProgressBar fx:id="progressBar" maxWidth="300" progress="0.0" visible="false" />

                    <Button fx:id="playButton" defaultButton="true" onAction="#onPlay" prefWidth="200" text="ИГРАТЬ">
                        <styleClass>
                            <String fx:value="aura-btn" />
                            <String fx:value="aura-btn-primary" />
                        </styleClass>
                    </Button>
                </StackPane>
            </VBox>
        </bottom>

        <top>
            <HBox alignment="TOP_RIGHT" spacing="10">
                <Button onAction="#minimize" styleClass="icon-btn" text="—" />
                <Button onAction="#close" styleClass="icon-btn-danger" text="✕" />
            </HBox>
        </top>

    </BorderPane>
</StackPane>